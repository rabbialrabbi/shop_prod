import{G as f,H as v,J as U,K as l,B as e,L as s,M as T,N as M,U as P,R as p,a_ as R,S as m,F as C,T as V,a$ as S,b0 as w,bc as $,$ as b,aV as G,X as j,P as i,Y as D,Z as q,_ as z,E as x,bp as g,aW as E,aT as O,aU as h,Q as J}from"./index.c7964aad.js";import{V as L}from"./VForm.eb32a643.js";import{V as Y}from"./VAutocomplete.1b9bb8f5.js";import"./moment.9709ab41.js";import{V as X}from"./VTextarea.747d002e.js";import{V as A}from"./VDialog.f16f3cc8.js";import{b as B}from"./route-block.011d1056.js";import{V as F,a as Z,b as k,c as I}from"./VWindowItem.7e398913.js";import"./VSelect.1c4e4c25.js";import"./VCheckboxBtn.f1cc55ee.js";const W={__name:"AddCustomer",setup(y){const c={name:null,contact_no:null,village:null,city:null,email:null,total_spend:null,total_due:null},o=f(structuredClone(c)),r=async()=>{try{const t=await S.post(w.createCustomer,o.value);console.log(t.data),t.data.status&&(o.value=f(structuredClone(c)))}catch(t){console.log(t)}};return(t,n)=>(v(),U(p,{justify:"center"},{default:l(()=>[e(s,{cols:"12",md:"10"},{default:l(()=>[e(T,{title:"Add Customer"},{default:l(()=>[e(M,null,{default:l(()=>[e(L,{onSubmit:n[7]||(n[7]=P(()=>{},["prevent"]))},{default:l(()=>[e(p,null,{default:l(()=>[e(s,{cols:"12",md:"3"},{default:l(()=>[e(R,{width:"100%",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4rg2uXCXcgz5EOZDYdyOiJl_BkMOjgqppYsJ5nPTp5Zwu_0sGhxLFf7F3Yh8wy3tT5dE&usqp=CAU"})]),_:1}),e(s,{cols:"12",md:"9"},{default:l(()=>[e(s,{cols:"12"},{default:l(()=>[e(m,{modelValue:o.value.name,"onUpdate:modelValue":n[0]||(n[0]=u=>o.value.name=u),label:"Customer Name",placeholder:"Customer Name",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12"},{default:l(()=>[e(m,{modelValue:o.value.contact_no,"onUpdate:modelValue":n[1]||(n[1]=u=>o.value.contact_no=u),label:"Contact Number",placeholder:"Contact Number",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12"},{default:l(()=>[e(p,null,{default:l(()=>[e(s,{cols:"6"},{default:l(()=>[e(m,{modelValue:o.value.village,"onUpdate:modelValue":n[2]||(n[2]=u=>o.value.village=u),label:"Village",placeholder:"Village",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(s,{cols:"6"},{default:l(()=>[e(Y,{modelValue:o.value.city,"onUpdate:modelValue":n[3]||(n[3]=u=>o.value.city=u),items:{},label:"City",placeholder:"City",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,{cols:"12"},{default:l(()=>[e(m,{modelValue:o.value.email,"onUpdate:modelValue":n[4]||(n[4]=u=>o.value.email=u),label:"Email",placeholder:"Email",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12"},{default:l(()=>[e(p,null,{default:l(()=>[e(s,{cols:"6"},{default:l(()=>[e(m,{modelValue:o.value.total_spend,"onUpdate:modelValue":n[5]||(n[5]=u=>o.value.total_spend=u),label:"Total Spend",placeholder:"Total Spend",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1}),e(s,{cols:"6"},{default:l(()=>[e(m,{modelValue:o.value.total_due,"onUpdate:modelValue":n[6]||(n[6]=u=>o.value.total_due=u),label:"Total Due",placeholder:"Total Due",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(s,{cols:"12",class:"d-flex gap-4"},{default:l(()=>[e(C,{type:"submit",onClick:r},{default:l(()=>[V(" Submit ")]),_:1}),e(C,{type:"reset",color:"secondary",variant:"tonal"},{default:l(()=>[V(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},H={__name:"CustomerEdit",props:["customer"],emits:["edit-modal-status"],setup(y,{emit:c}){const o=y,r=o.customer,t=f(r),n=async()=>{try{const u=w.editCustomer+"/"+o.customer.customer_id;(await S.put(u,t.value)).data.status&&c("edit-modal-status",!1)}catch(u){console.log(u)}};return(u,d)=>(v(),U(p,{justify:"center"},{default:l(()=>[e(s,{cols:"12",md:"10"},{default:l(()=>[e(T,{title:"Add Customer"},{default:l(()=>[e(M,null,{default:l(()=>[e(L,{onSubmit:d[7]||(d[7]=P(()=>{},["prevent"]))},{default:l(()=>[e(p,null,{default:l(()=>[e(s,{cols:"12",md:"3"},{default:l(()=>[e(R,{width:"100%",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4rg2uXCXcgz5EOZDYdyOiJl_BkMOjgqppYsJ5nPTp5Zwu_0sGhxLFf7F3Yh8wy3tT5dE&usqp=CAU"})]),_:1}),e(s,{cols:"12",md:"9"},{default:l(()=>[e(s,{cols:"12"},{default:l(()=>[e(m,{modelValue:t.value.name,"onUpdate:modelValue":d[0]||(d[0]=a=>t.value.name=a),label:"Customer Name",placeholder:"Customer Name",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12"},{default:l(()=>[e(m,{modelValue:t.value.contact_no,"onUpdate:modelValue":d[1]||(d[1]=a=>t.value.contact_no=a),label:"Contact Number",placeholder:"Contact Number",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12"},{default:l(()=>[e(p,null,{default:l(()=>[e(s,{cols:"6"},{default:l(()=>[e(m,{modelValue:t.value.village,"onUpdate:modelValue":d[2]||(d[2]=a=>t.value.village=a),label:"Village",placeholder:"Village",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(s,{cols:"6"},{default:l(()=>[e(Y,{modelValue:t.value.city,"onUpdate:modelValue":d[3]||(d[3]=a=>t.value.city=a),items:{},label:"City",placeholder:"City",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,{cols:"12"},{default:l(()=>[e(m,{modelValue:t.value.email,"onUpdate:modelValue":d[4]||(d[4]=a=>t.value.email=a),label:"Email",placeholder:"Email",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12"},{default:l(()=>[e(p,null,{default:l(()=>[e(s,{cols:"6"},{default:l(()=>[e(m,{modelValue:t.value.total_spend,"onUpdate:modelValue":d[5]||(d[5]=a=>t.value.total_spend=a),label:"Total Spend",placeholder:"Total Spend",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1}),e(s,{cols:"6"},{default:l(()=>[e(m,{modelValue:t.value.total_due,"onUpdate:modelValue":d[6]||(d[6]=a=>t.value.total_due=a),label:"Total Due",placeholder:"Total Due",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(s,{cols:"12",class:"d-flex gap-4"},{default:l(()=>[e(C,{type:"submit",onClick:n},{default:l(()=>[V(" Submit ")]),_:1}),e(C,{type:"reset",color:"secondary",variant:"tonal"},{default:l(()=>[V(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},K={__name:"CustomerPayment",props:["customer"],emits:["payment-modal-status"],setup(y,{emit:c}){const o=y;let r={amount:null,message:null};const t=f(structuredClone(r)),n=o.customer,u=f(n),d=async()=>{try{const a=w.editCustomer+"/"+o.customer.customer_id+"/payment";(await S.post(a,u.value)).data.status&&c("payment-modal-status",!1)}catch(a){console.log(a)}};return(a,_)=>(v(),U(p,{justify:"center"},{default:l(()=>[e(s,{cols:"12",md:"10"},{default:l(()=>[e(T,null,{default:l(()=>[e($,null,{default:l(()=>[V(b(u.value.name)+" Payment ",1)]),_:1}),e(M,null,{default:l(()=>[e(L,{onSubmit:_[2]||(_[2]=P(()=>{},["prevent"]))},{default:l(()=>[e(p,null,{default:l(()=>[e(s,{cols:"12"},{default:l(()=>[e(m,{modelValue:t.value.amount,"onUpdate:modelValue":_[0]||(_[0]=N=>t.value.amount=N),label:"Amount",placeholder:"Amount",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12"},{default:l(()=>[e(X,{modelValue:t.value.message,"onUpdate:modelValue":_[1]||(_[1]=N=>t.value.message=N),label:"Message",placeholder:"Message",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12",class:"d-flex gap-4"},{default:l(()=>[e(C,{type:"submit",onClick:d},{default:l(()=>[V(" Submit ")]),_:1}),e(C,{type:"reset",color:"secondary",variant:"tonal"},{default:l(()=>[V(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},Q=i("thead",null,[i("tr",null,[i("th",{class:"text-uppercase"}," Name "),i("th",{class:"text-center text-uppercase"}," Village "),i("th",{class:"text-center text-uppercase"}," Contact No "),i("th",{class:"text-center text-uppercase"}," Total Due "),i("th",{class:"text-center text-uppercase"}," Action ")])],-1),ee={class:"text-center"},le={class:"text-center"},te={class:"text-center"},ae={class:"text-center"},ue={__name:"CustomerList",setup(y){const c=f([]),o=f("");let r=f(!1),t=f(!1);function n(u){r.value=u}return G(async()=>{let u=await S.get(w.getCustomer);c.value=u.data.data}),(u,d)=>(v(),U(p,{justify:"center"},{default:l(()=>[e(s,{cols:"12"},{default:l(()=>[e(T,{title:"Basic"},{default:l(()=>[e(j,null,{default:l(()=>[Q,i("tbody",null,[(v(!0),D(q,null,z(c.value,a=>(v(),D("tr",{key:a.customer_id},[i("td",null,b(a.name)+" - "+b(a.village),1),i("td",ee,b(a.village),1),i("td",le,b(a.contact_no),1),i("td",te,b(a.total_due),1),i("td",ae,[e(x,{size:"20",start:"",icon:"mdi-account-outline",onClick:_=>{o.value=a,g(r)?r.value=!0:r=!0}},null,8,["onClick"]),e(x,{size:"20",start:"",icon:"mdi-account-outline",onClick:_=>{o.value=a,g(t)?t.value=!0:t=!0}},null,8,["onClick"])])]))),128))])]),_:1}),e(A,{modelValue:E(r),"onUpdate:modelValue":d[0]||(d[0]=a=>g(r)?r.value=a:r=a),width:"auto"},{default:l(()=>[e(H,{customer:o.value,onEditModalStatus:n},null,8,["customer"])]),_:1},8,["modelValue"]),e(A,{modelValue:E(t),"onUpdate:modelValue":d[1]||(d[1]=a=>g(t)?t.value=a:t=a),width:"auto"},{default:l(()=>[e(K,{customer:o.value,onPaymentModalStatus:u.updatupdatePaymentModalStatuseStatus},null,8,["customer","onPaymentModalStatus"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}},oe=i("h1",null,"Hello",-1),se={__name:"customer",setup(y){const c=O(),o=h();G(async()=>{await c.updateProductList()});function r(){o.updateCategoryList(),o.updateProductTypeList(),o.updateUnitTypeList()}const t=f();return(n,u)=>(v(),D("div",null,[e(Z,{modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=d=>t.value=d),"show-arrows":""},{default:l(()=>[e(F,{value:"list"},{default:l(()=>[e(x,{size:"20",start:"",icon:"mdi-account-outline"}),V(" List ")]),_:1}),e(F,{value:"create",onClick:r},{default:l(()=>[e(x,{size:"20",start:"",icon:"mdi-account-outline"}),V(" Create ")]),_:1})]),_:1},8,["modelValue"]),e(J),e(I,{modelValue:t.value,"onUpdate:modelValue":u[1]||(u[1]=d=>t.value=d),class:"mt-5 disable-tab-transition",touch:!1},{default:l(()=>[e(k,{value:"create"},{default:l(()=>[e(W)]),_:1}),e(k,{value:"list"},{default:l(()=>[e(ue)]),_:1}),e(k,{value:"test","onGroup:selected":E(c).updateProductList},{default:l(()=>[oe]),_:1},8,["onGroup:selected"])]),_:1},8,["modelValue"])]))}};typeof B=="function"&&B(se);export{se as default};
