import{u as T,S as Y}from"./Subtotal.77436b3f.js";import{aT as L,bt as M,G as p,a8 as C,H as f,J as g,K as l,B as e,L as n,aW as d,S as v,R as _,Y as k,Z as O,_ as U,be as V,aV as z,a$ as F,b0 as H,M as Q,bc as I,T as b,N as x,Q as $,F as N,E as D,$ as R}from"./index.0e455d1f.js";import{V as q}from"./VAutocomplete.1abd41b8.js";import{h as W}from"./moment.9709ab41.js";import{b as P}from"./route-block.011d1056.js";import{V as S,a as w,b as A,c as E}from"./VWindowItem.6789568a.js";import"./VSelect.842816c2.js";import"./VCheckboxBtn.b6380877.js";const G={__name:"ItemInput",setup(y){const a=T(),m=L();M(a);const c=p(""),s=p(""),o=p(""),r=p("");return C(c,(t,u)=>{if(t){console.log("Inside Product ID");let i=m.productList.find(B=>B.product_id===t);a.item.product_id=c,a.item.quantity=1,a.item.unit_price=i.selling_price,a.item.total_price=i.selling_price,s.value=1,r.value=i.selling_price,o.value=i.selling_price,a.updateProductData()}}),C(s,t=>{if(t){console.log("Inside Quantity"),a.item.quantity=t;let u=a.item.quantity*a.item.unit_price;a.item.total_price=u,a.updateProductData(),r.value=u}}),C(o,t=>{t&&(console.log("Inside Unit Price"),a.item.unit_price=t,a.item.total_price=a.item.quantity*a.item.unit_price,a.updateProductData(),r.value=a.item.total_price)}),C(r,t=>{t&&(console.log("Inside Total price"),a.item.unit_price=t/a.item.quantity,a.item.total_price=t,o.value=t/a.item.quantity,a.updateProductData())}),(t,u)=>(f(),g(_,null,{default:l(()=>[e(n,{cols:"12",lg:"3"},{default:l(()=>[e(q,{modelValue:c.value,"onUpdate:modelValue":u[0]||(u[0]=i=>c.value=i),items:d(m).getProductsSelect,class:"centered-input",label:"Product",variant:"underlined",onUpdate:u[1]||(u[1]=i=>t.alert("Hello"))},null,8,["modelValue","items"])]),_:1}),e(n,{cols:"12",lg:"3"},{default:l(()=>[e(v,{modelValue:s.value,"onUpdate:modelValue":u[2]||(u[2]=i=>s.value=i),label:"Quantity",placeholder:"Quantity",variant:"underlined",class:"centered-input"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",lg:"3"},{default:l(()=>[e(v,{modelValue:o.value,"onUpdate:modelValue":u[3]||(u[3]=i=>o.value=i),label:"Price",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",lg:"3"},{default:l(()=>[e(v,{modelValue:r.value,"onUpdate:modelValue":u[4]||(u[4]=i=>r.value=i),label:"Subtotal",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1}))}},J={__name:"OrderItem",props:["tab"],setup(y){const m=y.tab,c=T();return(s,o)=>(f(),g(V,null,{default:l(()=>[(f(!0),k(O,null,U(d(c).orders[d(m)].items,(r,t)=>(f(),g(G,{key:t,item:t,tab:d(m),onClick:u=>d(c).selectedItems=t},null,8,["item","tab","onClick"]))),128))]),_:1}))}},K={__name:"CreateOrder",props:["index"],setup(y){const a=y;p(),p(!1),p();let m=W().format("YYYY-MM-DD");p(m);const c=a.index,s=p([]);z(async()=>{let r=await F.get(H.getCustomer);s.value=r.data.data.map(t=>({title:t.name,value:t.customer_id}))});const o=T();return(r,t)=>(f(),g(_,null,{default:l(()=>[e(n,{md:"6",lg:"12",cols:"12"},{default:l(()=>[e(Q,null,{default:l(()=>[e(_,{"no-gutters":""},{default:l(()=>[e(n,{cols:"12",sm:"8",md:"12",lg:"6",order:"2","order-lg":"1"},{default:l(()=>[e(V,null,{default:l(()=>[e(I,null,{default:l(()=>[b("Customer")]),_:1})]),_:1}),e(x,null,{default:l(()=>[e(_,null,{default:l(()=>[e(n,{cols:"12",md:"6"},{default:l(()=>[e(q,{modelValue:d(o).order.customer_id,"onUpdate:modelValue":t[0]||(t[0]=u=>d(o).order.customer_id=u),items:s.value,label:"Customer Name",placeholder:"Customer Name"},null,8,["modelValue","items"])]),_:1}),e(n,{cols:"12",md:"6"},{default:l(()=>[e(v,{modelValue:r.firstName,"onUpdate:modelValue":t[1]||(t[1]=u=>r.firstName=u),label:"Contact No",placeholder:"Contact No"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(n,{cols:"12",sm:"4",md:"12",lg:"6",order:"1","order-lg":"2"},{default:l(()=>[e(V,null,{default:l(()=>[e(I,null,{default:l(()=>[b("Order")]),_:1})]),_:1}),e(x,null,{default:l(()=>[e(_,null,{default:l(()=>[e(n,{cols:"12",md:"6"},{default:l(()=>[e(v,{modelValue:r.firstName,"onUpdate:modelValue":t[2]||(t[2]=u=>r.firstName=u),label:"Order No",placeholder:"Order No",readonly:""},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",md:"6"},{default:l(()=>[e(v,{modelValue:d(o).order.order_date,"onUpdate:modelValue":t[3]||(t[3]=u=>d(o).order.order_date=u),label:"Order Date",placeholder:"Order Date",type:"date"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(V,null,{default:l(()=>[e(I,null,{default:l(()=>[b("Items")]),_:1})]),_:1}),e(x,null,{default:l(()=>[e($)]),_:1}),e(J,{tab:d(c)},null,8,["tab"]),e(V,null,{default:l(()=>[e(N,{block:"",onClick:t[4]||(t[4]=u=>d(o).addProductItem())},{default:l(()=>[e(D,{size:"2rem",icon:"material-symbols:add-circle-outline-rounded"})]),_:1})]),_:1}),e(V,null,{default:l(()=>[e(Y)]),_:1}),e(V,null,{default:l(()=>[e(_,{class:"pa-x ma-x"},{default:l(()=>[e(n,{md:"6",lg:"8",cols:"12",class:"pa-x ma-x"}),e(n,{md:"6",lg:"4",cols:"12"},{default:l(()=>[e(_,null,{default:l(()=>[e(n,{md:"6",lg:"6",cols:"12",class:"text-center"},{default:l(()=>[e(N,null,{default:l(()=>[b(" Save ")]),_:1})]),_:1}),e(n,{md:"6",lg:"6",cols:"12",class:"text-center"},{default:l(()=>[e(N,{class:"bg-success",onClick:t[5]||(t[5]=u=>d(o).payment())},{default:l(()=>[b(" Payment ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},Z={__name:"sells-order",setup(y){const a=T();p("Hello");const m=a.orders;return(c,s)=>(f(),k("div",null,[e(w,{modelValue:d(a).activeTab,"onUpdate:modelValue":s[1]||(s[1]=o=>d(a).activeTab=o),"show-arrows":""},{default:l(()=>[(f(!0),k(O,null,U(d(m),(o,r)=>(f(),g(S,{key:o.name,value:o.tab,onClick:t=>d(a).selectTab(r)},{default:l(()=>[e(D,{size:"20",start:"",icon:"mdi-bell-outline"}),b(" "+R(o.title),1)]),_:2},1032,["value","onClick"]))),128)),e(S,{value:"",onClick:s[0]||(s[0]=o=>d(a).addTab())},{default:l(()=>[e(D,{size:"20",start:"",icon:"mdi-bell-outline"}),b(" Add ")]),_:1})]),_:1},8,["modelValue"]),e($),e(E,{modelValue:d(a).activeTab,"onUpdate:modelValue":s[2]||(s[2]=o=>d(a).activeTab=o),class:"mt-5 disable-tab-transition",touch:!1},{default:l(()=>[(f(!0),k(O,null,U(d(m),(o,r)=>(f(),g(A,{key:o.tab,value:o.tab},{default:l(()=>[e(K,{items:o.items,index:r},null,8,["items","index"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]))}};typeof P=="function"&&P(Z);export{Z as default};
