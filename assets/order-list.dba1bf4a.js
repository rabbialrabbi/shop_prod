import{u as O}from"./report.4cad35ff.js";import{bc as Y,H as m,J as x,K as l,B as e,L as d,M as U,bh as g,T as V,X as B,R as _,P as n,b6 as t,S as b,Y as y,Z as C,_ as N,bd as f,G as D,N as T,Q as k,F as h,E as S,$ as M}from"./index.6af205fc.js";import{V as $}from"./VAutocomplete.68545785.js";import{h as w}from"./moment.9709ab41.js";import{S as L}from"./Subtotal.132c4dd1.js";import{b as v}from"./route-block.011d1056.js";import{V as P,a as A,b as E,c as F}from"./VWindowItem.203e65df.js";import"./VSelect.74ebe58c.js";import"./VCheckboxBtn.9a916f04.js";const I=Y("tab",{state:()=>({tabs:[],selectedTab:""}),actions:{addTab(i){let r=i.id;this.tabs.find(a=>a.id==r)||null||this.tabs.push(i),this.selectedTab=i.id}}}),R={randomNumber:()=>Math.floor(Math.random()*1e3+1)},q=n("thead",null,[n("tr",null,[n("th",{class:"text-uppercase"}," Order ID "),n("th",{class:"text-center text-uppercase"}," Customer Name "),n("th",{class:"text-center text-uppercase"}," Total Item "),n("th",{class:"text-center text-uppercase"}," Order Amount "),n("th",{class:"text-center text-uppercase"}," Labour "),n("th",{class:"text-center text-uppercase"}," Discount "),n("th",{class:"text-center text-uppercase"}," Collection "),n("th",{class:"text-center text-uppercase"}," Paid "),n("th",{class:"text-center text-uppercase"}," Balance "),n("th",{class:"text-center text-uppercase"}," Profit "),n("th",{class:"text-center text-uppercase"}," Action ")])],-1),z=n("tbody",null,null,-1),W={__name:"SalesOrderList",setup(i){const r=O();return I(),r.getOrderList(),(o,a)=>(m(),x(_,{justify:"center"},{default:l(()=>[e(d,{cols:"12"},{default:l(()=>[e(U,null,{default:l(()=>[e(g,null,{default:l(()=>[V(" Order list ")]),_:1}),e(B,null,{default:l(()=>[q,z]),_:1})]),_:1})]),_:1})]),_:1}))}},j={__name:"ItemInput",props:["itemid"],setup(i){const r=i;let a=O().salesOrderDetails.order_details.find(s=>s.sales_order_item_id==r.itemid);return(s,c)=>(m(),x(_,null,{default:l(()=>[e(d,{cols:"12",lg:"3"},{default:l(()=>[e($,{modelValue:t(a).product_name,"onUpdate:modelValue":c[0]||(c[0]=u=>t(a).product_name=u),label:"Product",variant:"underlined",readonly:""},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",lg:"3"},{default:l(()=>[e(b,{modelValue:t(a).qty,"onUpdate:modelValue":c[1]||(c[1]=u=>t(a).qty=u),label:"Unit Amount",placeholder:"Unit Amount",variant:"underlined",type:"number",readonly:""},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",lg:"3"},{default:l(()=>[e(b,{modelValue:t(a).selling_price,"onUpdate:modelValue":c[2]||(c[2]=u=>t(a).selling_price=u),label:"Price",variant:"underlined",type:"number",readonly:""},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",lg:"3"},{default:l(()=>[e(b,{modelValue:t(a).total_selling_price,"onUpdate:modelValue":c[3]||(c[3]=u=>t(a).total_selling_price=u),label:"Subtotal",variant:"underlined",type:"number",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}))}},G={__name:"OrderItem",setup(i){const r=O();return(o,a)=>(m(),x(f,null,{default:l(()=>[(m(!0),y(C,null,N(t(r).salesOrderDetails.order_details,(s,c)=>(m(),x(j,{key:c,itemid:s.sales_order_item_id},null,8,["itemid"]))),128))]),_:1}))}},H={__name:"UpdateOrder",props:["ordercode"],setup(i){const r=i,o=O();o.getOrderDetails(r.ordercode);const a=o.salesOrderDetails;D(a.customer_name),D();let s=w(a.created_at,"YYYY-MM-DD").format("YYYY-MM-DD");return D(s),(c,u)=>(m(),x(_,null,{default:l(()=>[e(d,{md:"6",lg:"12",cols:"12"},{default:l(()=>[e(U,null,{default:l(()=>[e(_,{"no-gutters":""},{default:l(()=>[e(d,{cols:"12",sm:"8",md:"12",lg:"6",order:"2","order-lg":"1"},{default:l(()=>[e(f,null,{default:l(()=>[e(g,null,{default:l(()=>[V("Customer")]),_:1})]),_:1}),e(T,null,{default:l(()=>[e(_,null,{default:l(()=>[e(d,{cols:"12",md:"6"},{default:l(()=>[e(b,{modelValue:t(o).salesOrderDetails.customer_name,"onUpdate:modelValue":u[0]||(u[0]=p=>t(o).salesOrderDetails.customer_name=p),label:"Customer Name",placeholder:"Customer Name",readonly:""},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",md:"6"},{default:l(()=>[e(b,{modelValue:t(o).salesOrderDetails.customer_name,"onUpdate:modelValue":u[1]||(u[1]=p=>t(o).salesOrderDetails.customer_name=p),label:"Contact No",placeholder:"Contact No",readonly:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(d,{cols:"12",sm:"4",md:"12",lg:"6",order:"1","order-lg":"2"},{default:l(()=>[e(f,null,{default:l(()=>[e(g,null,{default:l(()=>[V("Order")]),_:1})]),_:1}),e(T,null,{default:l(()=>[e(_,null,{default:l(()=>[e(d,{cols:"12",md:"6"},{default:l(()=>[e(b,{modelValue:t(o).salesOrderDetails.customer_name,"onUpdate:modelValue":u[2]||(u[2]=p=>t(o).salesOrderDetails.customer_name=p),label:"Order No",placeholder:"Order No",readonly:""},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",md:"6"},{default:l(()=>[e(b,{modelValue:t(o).salesOrderDetails.customer_name,"onUpdate:modelValue":u[3]||(u[3]=p=>t(o).salesOrderDetails.customer_name=p),label:"Contact No",placeholder:"Contact No",readonly:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(f,null,{default:l(()=>[e(g,null,{default:l(()=>[V("Items")]),_:1})]),_:1}),e(T,null,{default:l(()=>[e(k)]),_:1}),e(G,{items:t(o).salesOrderDetails.order_details},null,8,["items"]),e(f,null,{default:l(()=>[e(h,{block:""},{default:l(()=>[e(S,{size:"2rem",icon:"material-symbols:add-circle-outline-rounded"})]),_:1})]),_:1}),e(f,null,{default:l(()=>[e(_,{class:"pa-x ma-x"},{default:l(()=>[e(d,{md:"6",lg:"8",cols:"12",class:"pa-x ma-x"}),e(d,{md:"6",lg:"4",cols:"12"},{default:l(()=>[e(L)]),_:1})]),_:1})]),_:1}),e(f,null,{default:l(()=>[e(_,{class:"pa-x ma-x"},{default:l(()=>[e(d,{md:"6",lg:"8",cols:"12",class:"pa-x ma-x"}),e(d,{md:"6",lg:"4",cols:"12"},{default:l(()=>[e(_,null,{default:l(()=>[e(d,{md:"6",lg:"6",cols:"12",class:"text-center"},{default:l(()=>[e(h,null,{default:l(()=>[V(" Save ")]),_:1})]),_:1}),e(d,{md:"6",lg:"6",cols:"12",class:"text-center"},{default:l(()=>[e(h,{class:"bg-success"},{default:l(()=>[V(" Payment ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},J={key:0},K={key:1},Q={__name:"order-list",setup(i){const r=I();return r.tabs=[],r.addTab({id:R.randomNumber(),name:"Order List",componentType:"main"}),(o,a)=>(m(),y("div",null,[e(A,{modelValue:t(r).selectedTab,"onUpdate:modelValue":a[0]||(a[0]=s=>t(r).selectedTab=s),"show-arrows":""},{default:l(()=>[(m(!0),y(C,null,N(t(r).tabs,s=>(m(),x(P,{key:s.id,value:s.id},{default:l(()=>[e(S,{size:"20",start:"",icon:"mdi-bell-outline"}),V(" "+M(s.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),e(k),e(F,{modelValue:t(r).selectedTab,"onUpdate:modelValue":a[1]||(a[1]=s=>t(r).selectedTab=s),class:"mt-5 disable-tab-transition",touch:!1},{default:l(()=>[(m(!0),y(C,null,N(t(r).tabs,s=>(m(),x(E,{key:s.id,value:s.id},{default:l(()=>[s.componentType=="main"?(m(),y("div",J,[e(W)])):(m(),y("div",K,[e(H,{ordercode:s.id},null,8,["ordercode"])]))]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]))}};typeof v=="function"&&v(Q);export{Q as default};
