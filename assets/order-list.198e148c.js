import{u as T}from"./report.f12a816e.js";import{bc as Y,H as i,J as y,K as t,B as e,L as u,M as U,bh as g,T as V,X as B,P as l,Y as x,Z as O,_ as D,b6 as a,$ as n,E as k,R as p,S as h,bd as b,G as C,N as L,Q as S,F as N}from"./index.d15c5aa9.js";import{V as P}from"./VAutocomplete.9ef50057.js";import{h as $}from"./moment.9709ab41.js";import{S as M}from"./Subtotal.c8b4f0fa.js";import{b as v}from"./route-block.011d1056.js";import{V as w,a as A,b as E,c as q}from"./VWindowItem.bdb35b7d.js";import"./VSelect.38ca3b0a.js";import"./VCheckboxBtn.d61e69a7.js";const I=Y("tab",{state:()=>({tabs:[],selectedTab:""}),actions:{addTab(_){let o=_.id;this.tabs.find(d=>d.id==o)||null||this.tabs.push(_),this.selectedTab=_.id}}}),z={randomNumber:()=>Math.floor(Math.random()*1e3+1)},F=l("thead",null,[l("tr",null,[l("th",{class:"text-uppercase"}," Order ID "),l("th",{class:"text-center text-uppercase"}," Customer Name "),l("th",{class:"text-center text-uppercase"}," Total Item "),l("th",{class:"text-center text-uppercase"}," Order Amount "),l("th",{class:"text-center text-uppercase"}," Labour "),l("th",{class:"text-center text-uppercase"}," Discount "),l("th",{class:"text-center text-uppercase"}," Collection "),l("th",{class:"text-center text-uppercase"}," Paid "),l("th",{class:"text-center text-uppercase"}," Balance "),l("th",{class:"text-center text-uppercase"}," Profit "),l("th",{class:"text-center text-uppercase"}," Action ")])],-1),R={class:"text-center"},Q={class:"text-center"},W={class:"text-center"},j={class:"text-center"},G={class:"text-center"},H={class:"text-center"},J={class:"text-center"},K={class:"text-center"},X={class:"text-center"},Z={class:"text-center"},ee=l("td",{colspan:"2",class:"text-center"}," Total ",-1),te={class:"text-center"},le={class:"text-center"},ae={class:"text-center"},se={class:"text-center"},oe={class:"text-center"},re={class:"text-center"},de={class:"text-center"},ne={class:"text-center"},ue={__name:"SalesOrderList",setup(_){const o=T(),c=I();function d(r){c.addTab({id:r.order_code,name:r.customer_name})}return o.getOrderList(),(r,m)=>(i(),y(p,{justify:"center"},{default:t(()=>[e(u,{cols:"12"},{default:t(()=>[e(U,null,{default:t(()=>[e(g,null,{default:t(()=>[V(" Order list ")]),_:1}),e(B,null,{default:t(()=>[F,l("tbody",null,[(i(!0),x(O,null,D(a(o).salesOrderList.items,s=>(i(),x("tr",{key:s.order_code},[l("td",null,n(s.order_code),1),l("td",R,n(s.customer_name),1),l("td",Q,n(s.order_qty),1),l("td",W,n(s.order_payable_amount),1),l("td",j,n(s.labour),1),l("td",G,n(s.discount),1),l("td",H,n(s.collection),1),l("td",J,n(s.paid),1),l("td",K,n(s.balance),1),l("td",X,n(s.profit),1),l("td",Z,[e(k,{size:"1.5rem",icon:"tabler:edit",onClick:f=>d(s)},null,8,["onClick"])])]))),128)),l("tr",null,[ee,l("td",te,n(a(o).salesOrderList.totalOrderQty),1),l("td",le,n(a(o).salesOrderList.totalOrderAmount),1),l("td",ae,n(a(o).salesOrderList.totalLabour),1),l("td",se,n(a(o).salesOrderList.totalDiscount),1),l("td",oe,n(a(o).salesOrderList.totalCollection),1),l("td",re,n(a(o).salesOrderList.totalPaid),1),l("td",de,n(a(o).salesOrderList.totalBalance),1),l("td",ne,n(a(o).salesOrderList.totalProfit),1)])])]),_:1})]),_:1})]),_:1})]),_:1}))}},ce={__name:"ItemInput",props:["itemid"],setup(_){const o=_;let d=T().salesOrderDetails.order_details.find(r=>r.sales_order_item_id==o.itemid);return(r,m)=>(i(),y(p,null,{default:t(()=>[e(u,{cols:"12",lg:"3"},{default:t(()=>[e(P,{modelValue:a(d).product_name,"onUpdate:modelValue":m[0]||(m[0]=s=>a(d).product_name=s),label:"Product",variant:"underlined",readonly:""},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",lg:"3"},{default:t(()=>[e(h,{modelValue:a(d).qty,"onUpdate:modelValue":m[1]||(m[1]=s=>a(d).qty=s),label:"Unit Amount",placeholder:"Unit Amount",variant:"underlined",type:"number",readonly:""},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",lg:"3"},{default:t(()=>[e(h,{modelValue:a(d).selling_price,"onUpdate:modelValue":m[2]||(m[2]=s=>a(d).selling_price=s),label:"Price",variant:"underlined",type:"number",readonly:""},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",lg:"3"},{default:t(()=>[e(h,{modelValue:a(d).total_selling_price,"onUpdate:modelValue":m[3]||(m[3]=s=>a(d).total_selling_price=s),label:"Subtotal",variant:"underlined",type:"number",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}))}},ie={__name:"OrderItem",setup(_){const o=T();return(c,d)=>(i(),y(b,null,{default:t(()=>[(i(!0),x(O,null,D(a(o).salesOrderDetails.order_details,(r,m)=>(i(),y(ce,{key:m,itemid:r.sales_order_item_id},null,8,["itemid"]))),128))]),_:1}))}},me={__name:"UpdateOrder",props:["ordercode"],setup(_){const o=_,c=T();c.getOrderDetails(o.ordercode);const d=c.salesOrderDetails;C(d.customer_name),C();let r=$(d.created_at,"YYYY-MM-DD").format("YYYY-MM-DD");return C(r),(m,s)=>(i(),y(p,null,{default:t(()=>[e(u,{md:"6",lg:"12",cols:"12"},{default:t(()=>[e(U,null,{default:t(()=>[e(p,{"no-gutters":""},{default:t(()=>[e(u,{cols:"12",sm:"8",md:"12",lg:"6",order:"2","order-lg":"1"},{default:t(()=>[e(b,null,{default:t(()=>[e(g,null,{default:t(()=>[V("Customer")]),_:1})]),_:1}),e(L,null,{default:t(()=>[e(p,null,{default:t(()=>[e(u,{cols:"12",md:"6"},{default:t(()=>[e(h,{modelValue:a(c).salesOrderDetails.customer_name,"onUpdate:modelValue":s[0]||(s[0]=f=>a(c).salesOrderDetails.customer_name=f),label:"Customer Name",placeholder:"Customer Name",readonly:""},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",md:"6"},{default:t(()=>[e(h,{modelValue:a(c).salesOrderDetails.customer_name,"onUpdate:modelValue":s[1]||(s[1]=f=>a(c).salesOrderDetails.customer_name=f),label:"Contact No",placeholder:"Contact No",readonly:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(u,{cols:"12",sm:"4",md:"12",lg:"6",order:"1","order-lg":"2"},{default:t(()=>[e(b,null,{default:t(()=>[e(g,null,{default:t(()=>[V("Order")]),_:1})]),_:1}),e(L,null,{default:t(()=>[e(p,null,{default:t(()=>[e(u,{cols:"12",md:"6"},{default:t(()=>[e(h,{modelValue:a(c).salesOrderDetails.customer_name,"onUpdate:modelValue":s[2]||(s[2]=f=>a(c).salesOrderDetails.customer_name=f),label:"Order No",placeholder:"Order No",readonly:""},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",md:"6"},{default:t(()=>[e(h,{modelValue:a(c).salesOrderDetails.customer_name,"onUpdate:modelValue":s[3]||(s[3]=f=>a(c).salesOrderDetails.customer_name=f),label:"Contact No",placeholder:"Contact No",readonly:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(b,null,{default:t(()=>[e(g,null,{default:t(()=>[V("Items")]),_:1})]),_:1}),e(L,null,{default:t(()=>[e(S)]),_:1}),e(ie,{items:a(c).salesOrderDetails.order_details},null,8,["items"]),e(b,null,{default:t(()=>[e(N,{block:""},{default:t(()=>[e(k,{size:"2rem",icon:"material-symbols:add-circle-outline-rounded"})]),_:1})]),_:1}),e(b,null,{default:t(()=>[e(p,{class:"pa-x ma-x"},{default:t(()=>[e(u,{md:"6",lg:"8",cols:"12",class:"pa-x ma-x"}),e(u,{md:"6",lg:"4",cols:"12"},{default:t(()=>[e(M)]),_:1})]),_:1})]),_:1}),e(b,null,{default:t(()=>[e(p,{class:"pa-x ma-x"},{default:t(()=>[e(u,{md:"6",lg:"8",cols:"12",class:"pa-x ma-x"}),e(u,{md:"6",lg:"4",cols:"12"},{default:t(()=>[e(p,null,{default:t(()=>[e(u,{md:"6",lg:"6",cols:"12",class:"text-center"},{default:t(()=>[e(N,null,{default:t(()=>[V(" Save ")]),_:1})]),_:1}),e(u,{md:"6",lg:"6",cols:"12",class:"text-center"},{default:t(()=>[e(N,{class:"bg-success"},{default:t(()=>[V(" Payment ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},_e={key:0},pe={key:1},fe={__name:"order-list",setup(_){const o=I();return o.tabs=[],o.addTab({id:z.randomNumber(),name:"Order List",componentType:"main"}),(c,d)=>(i(),x("div",null,[e(A,{modelValue:a(o).selectedTab,"onUpdate:modelValue":d[0]||(d[0]=r=>a(o).selectedTab=r),"show-arrows":""},{default:t(()=>[(i(!0),x(O,null,D(a(o).tabs,r=>(i(),y(w,{key:r.id,value:r.id},{default:t(()=>[e(k,{size:"20",start:"",icon:"mdi-bell-outline"}),V(" "+n(r.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),e(S),e(q,{modelValue:a(o).selectedTab,"onUpdate:modelValue":d[1]||(d[1]=r=>a(o).selectedTab=r),class:"mt-5 disable-tab-transition",touch:!1},{default:t(()=>[(i(!0),x(O,null,D(a(o).tabs,r=>(i(),y(E,{key:r.id,value:r.id},{default:t(()=>[r.componentType=="main"?(i(),x("div",_e,[e(ue)])):(i(),x("div",pe,[e(me,{ordercode:r.id},null,8,["ordercode"])]))]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]))}};typeof v=="function"&&v(fe);export{fe as default};
