import{G as v,H as V,J as k,K as t,B as e,L as s,M as h,N as $,U as A,R as y,a_ as R,S as f,F as T,T as C,a$ as N,b0 as P,bc as q,$ as p,aV as E,aW as S,P as n,X as z,Y as g,Z as G,_ as Y,E as w,bq as U,aT as O,aU as J,Q as X}from"./index.0e455d1f.js";import{V as L}from"./VForm.0f32cbb8.js";import{V as H}from"./VAutocomplete.1abd41b8.js";import"./moment.9709ab41.js";import{V as Z}from"./VTextarea.c347bf0d.js";import{V as D}from"./VDialog.1228924f.js";import{b as F}from"./route-block.011d1056.js";import{V as j,a as I,b as M,c as W}from"./VWindowItem.6789568a.js";import"./VSelect.842816c2.js";import"./VCheckboxBtn.b6380877.js";const K={__name:"AddCustomer",setup(x){const _={name:null,contact_no:null,village:null,city:null,email:null,total_spend:null,total_due:null},u=v(structuredClone(_)),r=async()=>{try{const l=await N.post(P.createCustomer,u.value);console.log(l.data),l.data.status&&(u.value=v(structuredClone(_)))}catch(l){console.log(l)}};return(l,o)=>(V(),k(y,{justify:"center"},{default:t(()=>[e(s,{cols:"12",md:"10"},{default:t(()=>[e(h,{title:"Add Customer"},{default:t(()=>[e($,null,{default:t(()=>[e(L,{onSubmit:o[7]||(o[7]=A(()=>{},["prevent"]))},{default:t(()=>[e(y,null,{default:t(()=>[e(s,{cols:"12",md:"3"},{default:t(()=>[e(R,{width:"100%",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4rg2uXCXcgz5EOZDYdyOiJl_BkMOjgqppYsJ5nPTp5Zwu_0sGhxLFf7F3Yh8wy3tT5dE&usqp=CAU"})]),_:1}),e(s,{cols:"12",md:"9"},{default:t(()=>[e(s,{cols:"12"},{default:t(()=>[e(f,{modelValue:u.value.name,"onUpdate:modelValue":o[0]||(o[0]=a=>u.value.name=a),label:"Customer Name",placeholder:"Customer Name",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12"},{default:t(()=>[e(f,{modelValue:u.value.contact_no,"onUpdate:modelValue":o[1]||(o[1]=a=>u.value.contact_no=a),label:"Contact Number",placeholder:"Contact Number",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12"},{default:t(()=>[e(y,null,{default:t(()=>[e(s,{cols:"6"},{default:t(()=>[e(f,{modelValue:u.value.village,"onUpdate:modelValue":o[2]||(o[2]=a=>u.value.village=a),label:"Village",placeholder:"Village",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(s,{cols:"6"},{default:t(()=>[e(H,{modelValue:u.value.city,"onUpdate:modelValue":o[3]||(o[3]=a=>u.value.city=a),items:{},label:"City",placeholder:"City",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,{cols:"12"},{default:t(()=>[e(f,{modelValue:u.value.email,"onUpdate:modelValue":o[4]||(o[4]=a=>u.value.email=a),label:"Email",placeholder:"Email",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12"},{default:t(()=>[e(y,null,{default:t(()=>[e(s,{cols:"6"},{default:t(()=>[e(f,{modelValue:u.value.total_spend,"onUpdate:modelValue":o[5]||(o[5]=a=>u.value.total_spend=a),label:"Total Spend",placeholder:"Total Spend",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1}),e(s,{cols:"6"},{default:t(()=>[e(f,{modelValue:u.value.total_due,"onUpdate:modelValue":o[6]||(o[6]=a=>u.value.total_due=a),label:"Total Due",placeholder:"Total Due",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(s,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[e(T,{type:"submit",onClick:r},{default:t(()=>[C(" Submit ")]),_:1}),e(T,{type:"reset",color:"secondary",variant:"tonal"},{default:t(()=>[C(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},Q={__name:"CustomerEdit",props:["customer"],emits:["edit-modal-status"],setup(x,{emit:_}){const u=x,r=u.customer,l=v(r),o=async()=>{try{const a=P.editCustomer+"/"+u.customer.customer_id;(await N.put(a,l.value)).data.status&&_("edit-modal-status",!1)}catch(a){console.log(a)}};return(a,d)=>(V(),k(y,{justify:"center"},{default:t(()=>[e(s,{cols:"12",md:"10"},{default:t(()=>[e(h,{title:"Add Customer"},{default:t(()=>[e($,null,{default:t(()=>[e(L,{onSubmit:d[7]||(d[7]=A(()=>{},["prevent"]))},{default:t(()=>[e(y,null,{default:t(()=>[e(s,{cols:"12",md:"3"},{default:t(()=>[e(R,{width:"100%",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4rg2uXCXcgz5EOZDYdyOiJl_BkMOjgqppYsJ5nPTp5Zwu_0sGhxLFf7F3Yh8wy3tT5dE&usqp=CAU"})]),_:1}),e(s,{cols:"12",md:"9"},{default:t(()=>[e(s,{cols:"12"},{default:t(()=>[e(f,{modelValue:l.value.name,"onUpdate:modelValue":d[0]||(d[0]=i=>l.value.name=i),label:"Customer Name",placeholder:"Customer Name",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12"},{default:t(()=>[e(f,{modelValue:l.value.contact_no,"onUpdate:modelValue":d[1]||(d[1]=i=>l.value.contact_no=i),label:"Contact Number",placeholder:"Contact Number",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12"},{default:t(()=>[e(y,null,{default:t(()=>[e(s,{cols:"6"},{default:t(()=>[e(f,{modelValue:l.value.village,"onUpdate:modelValue":d[2]||(d[2]=i=>l.value.village=i),label:"Village",placeholder:"Village",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(s,{cols:"6"},{default:t(()=>[e(H,{modelValue:l.value.city,"onUpdate:modelValue":d[3]||(d[3]=i=>l.value.city=i),items:{},label:"City",placeholder:"City",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,{cols:"12"},{default:t(()=>[e(f,{modelValue:l.value.email,"onUpdate:modelValue":d[4]||(d[4]=i=>l.value.email=i),label:"Email",placeholder:"Email",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12"},{default:t(()=>[e(y,null,{default:t(()=>[e(s,{cols:"6"},{default:t(()=>[e(f,{modelValue:l.value.total_spend,"onUpdate:modelValue":d[5]||(d[5]=i=>l.value.total_spend=i),label:"Total Spend",placeholder:"Total Spend",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1}),e(s,{cols:"6"},{default:t(()=>[e(f,{modelValue:l.value.total_due,"onUpdate:modelValue":d[6]||(d[6]=i=>l.value.total_due=i),label:"Total Due",placeholder:"Total Due",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(s,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[e(T,{type:"submit",onClick:o},{default:t(()=>[C(" Submit ")]),_:1}),e(T,{type:"reset",color:"secondary",variant:"tonal"},{default:t(()=>[C(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},ee={__name:"CustomerPayment",props:["customer"],emits:["payment-modal-status"],setup(x,{emit:_}){const u=x;let r={amount:null,message:null};const l=v(structuredClone(r)),o=u.customer,a=v(o),d=async()=>{try{const i=P.editCustomer+"/"+u.customer.customer_id+"/payment";(await N.post(i,l.value)).data.status&&(l.value=v(o),_("payment-modal-status",!1))}catch(i){console.log(i)}};return(i,m)=>(V(),k(y,{justify:"center"},{default:t(()=>[e(s,{cols:"12",md:"10"},{default:t(()=>[e(h,null,{default:t(()=>[e(q,null,{default:t(()=>[C(p(a.value.name)+" Payment ",1)]),_:1}),e($,null,{default:t(()=>[e(L,{onSubmit:m[3]||(m[3]=A(()=>{},["prevent"]))},{default:t(()=>[e(y,null,{default:t(()=>[e(s,{cols:"12"},{default:t(()=>[e(f,{modelValue:l.value.amount,"onUpdate:modelValue":m[0]||(m[0]=b=>l.value.amount=b),label:"Amount",placeholder:"Amount",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12"},{default:t(()=>[e(Z,{modelValue:l.value.message,"onUpdate:modelValue":m[1]||(m[1]=b=>l.value.message=b),label:"Message",placeholder:"Message",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[e(T,{type:"submit",onClick:d},{default:t(()=>[C(" Submit ")]),_:1}),e(T,{type:"reset",color:"secondary",variant:"tonal",onClick:m[2]||(m[2]=b=>_("payment-modal-status",!1))},{default:t(()=>[C(" Close ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},te=n("thead",null,[n("tr",null,[n("th",{class:"text-uppercase"}," Transaction ID "),n("th",{class:"text-uppercase"}," Name "),n("th",{class:"text-uppercase"}," Ref "),n("th",{class:"text-center text-uppercase"}," Time "),n("th",{class:"text-center text-uppercase"}," Pre Amount "),n("th",{class:"text-center text-uppercase"}," Amount "),n("th",{class:"text-center text-uppercase"}," Final ")])],-1),le={class:"text-center"},ae={class:"text-center"},ue={class:"text-center"},oe={key:0},se={key:1},ne={class:"text-center"},de={__name:"CustomerPaymentHistory",props:["customer"],setup(x){const u=x.customer,r=v([]);return E(async()=>{let l=await N.get(P.getCustomer+"/"+u.customer_id+"/payment");r.value=l.data.data}),(l,o)=>(V(),k(y,{justify:"center"},{default:t(()=>[e(s,{cols:"12"},{default:t(()=>[e(h,null,{default:t(()=>[e(q,null,{default:t(()=>[C(p(S(u).name)+" ",1),n("span",null,p(r.value.current),1)]),_:1}),e(z,null,{default:t(()=>[te,n("tbody",null,[(V(!0),g(G,null,Y(r.value.transaction,a=>(V(),g("tr",{key:a.transaction_id},[n("td",null,p(a.transaction_id),1),n("td",null,p(a.customer_name),1),n("td",null,p(a.ref),1),n("td",le,p(a.created_at),1),n("td",ae,p(a.pre_amount),1),n("td",ue,[a.type?(V(),g("span",oe," - ")):(V(),g("span",se," + ")),C(" "+p(a.amount),1)]),n("td",ne,p(a.post_amount),1)]))),128))])]),_:1})]),_:1})]),_:1})]),_:1}))}},re=n("thead",null,[n("tr",null,[n("th",{class:"text-uppercase"}," Name "),n("th",{class:"text-center text-uppercase"}," Village "),n("th",{class:"text-center text-uppercase"}," Contact No "),n("th",{class:"text-center text-uppercase"}," Total Due "),n("th",{class:"text-center text-uppercase"}," Action ")])],-1),ie={class:"text-center"},me={class:"text-center"},ce={class:"text-center"},pe={class:"text-center"},_e={__name:"CustomerList",setup(x){const _=v([]),u=v("");let r=v(!1),l=v(!1),o=v(!1);function a(m){r.value=m}function d(m){l.value=m}function i(m){o.value=m}return E(async()=>{let m=await N.get(P.getCustomer);_.value=m.data.data}),(m,b)=>(V(),k(y,{justify:"center"},{default:t(()=>[e(s,{cols:"12"},{default:t(()=>[e(h,{title:"Basic"},{default:t(()=>[e(z,null,{default:t(()=>[re,n("tbody",null,[(V(!0),g(G,null,Y(_.value,c=>(V(),g("tr",{key:c.customer_id},[n("td",null,p(c.name)+" - "+p(c.village),1),n("td",ie,p(c.village),1),n("td",me,p(c.contact_no),1),n("td",ce,p(c.total_due),1),n("td",pe,[e(w,{size:"20",start:"",icon:"tabler:edit",onClick:B=>{u.value=c,U(r)?r.value=!0:r=!0}},null,8,["onClick"]),e(w,{size:"20",start:"",icon:"majesticons:money-line",onClick:B=>{u.value=c,U(l)?l.value=!0:l=!0}},null,8,["onClick"]),e(w,{size:"20",start:"",icon:"mdi-clipboard-text-history-outline",onClick:B=>{u.value=c,U(o)?o.value=!0:o=!0}},null,8,["onClick"])])]))),128))])]),_:1}),e(D,{modelValue:S(r),"onUpdate:modelValue":b[0]||(b[0]=c=>U(r)?r.value=c:r=c),width:"auto"},{default:t(()=>[e(Q,{customer:u.value,onEditModalStatus:a},null,8,["customer"])]),_:1},8,["modelValue"]),e(D,{modelValue:S(l),"onUpdate:modelValue":b[1]||(b[1]=c=>U(l)?l.value=c:l=c),width:"auto"},{default:t(()=>[e(ee,{customer:u.value,onPaymentModalStatus:d},null,8,["customer"])]),_:1},8,["modelValue"]),e(D,{modelValue:S(o),"onUpdate:modelValue":b[2]||(b[2]=c=>U(o)?o.value=c:o=c),width:"auto"},{default:t(()=>[e(de,{customer:u.value,onPaymentHistoryModalStatus:i},null,8,["customer"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}},fe=n("h1",null,"Hello",-1),ve={__name:"customer",setup(x){const _=O(),u=J();E(async()=>{await _.updateProductList()});function r(){u.updateCategoryList(),u.updateProductTypeList(),u.updateUnitTypeList()}const l=v();return(o,a)=>(V(),g("div",null,[e(I,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=d=>l.value=d),"show-arrows":""},{default:t(()=>[e(j,{value:"list"},{default:t(()=>[e(w,{size:"20",start:"",icon:"mdi-account-outline"}),C(" List ")]),_:1}),e(j,{value:"create",onClick:r},{default:t(()=>[e(w,{size:"20",start:"",icon:"mdi-account-outline"}),C(" Create ")]),_:1})]),_:1},8,["modelValue"]),e(X),e(W,{modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=d=>l.value=d),class:"mt-5 disable-tab-transition",touch:!1},{default:t(()=>[e(M,{value:"create"},{default:t(()=>[e(K)]),_:1}),e(M,{value:"list"},{default:t(()=>[e(_e)]),_:1}),e(M,{value:"test","onGroup:selected":S(_).updateProductList},{default:t(()=>[fe]),_:1},8,["onGroup:selected"])]),_:1},8,["modelValue"])]))}};typeof F=="function"&&F(ve);export{ve as default};
