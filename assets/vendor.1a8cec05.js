import{G as v,H as V,J as k,K as t,B as e,L as n,M as h,N as $,U as E,R as y,a_ as R,S as f,F as T,T as x,a$ as N,b0 as P,bc as q,$ as p,aV as A,aW as S,P as d,X as z,Y as C,Z as G,_ as Y,E as w,bq as U,aT as O,aU as J,Q as X}from"./index.0e455d1f.js";import{V as L}from"./VForm.0f32cbb8.js";import{V as H}from"./VAutocomplete.1abd41b8.js";import{V as Z}from"./VTextarea.c347bf0d.js";import{V as D}from"./VDialog.1228924f.js";import{b as F}from"./route-block.011d1056.js";import{V as j,a as I,b as M,c as W}from"./VWindowItem.6789568a.js";import"./VSelect.842816c2.js";import"./VCheckboxBtn.b6380877.js";const K={__name:"AddVendor",setup(g){const _={name:null,contact_no:null,village:null,city:null,email:null,total_spend:null,total_due:null},o=v(structuredClone(_)),r=async()=>{try{const l=await N.post(P.createVendor,o.value);console.log(l.data),l.data.status&&(o.value=v(structuredClone(_)))}catch(l){console.log(l)}};return(l,u)=>(V(),k(y,{justify:"center"},{default:t(()=>[e(n,{cols:"12",md:"10"},{default:t(()=>[e(h,{title:"Add Vendor"},{default:t(()=>[e($,null,{default:t(()=>[e(L,{onSubmit:u[7]||(u[7]=E(()=>{},["prevent"]))},{default:t(()=>[e(y,null,{default:t(()=>[e(n,{cols:"12",md:"3"},{default:t(()=>[e(R,{width:"100%",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4rg2uXCXcgz5EOZDYdyOiJl_BkMOjgqppYsJ5nPTp5Zwu_0sGhxLFf7F3Yh8wy3tT5dE&usqp=CAU"})]),_:1}),e(n,{cols:"12",md:"9"},{default:t(()=>[e(n,{cols:"12"},{default:t(()=>[e(f,{modelValue:o.value.name,"onUpdate:modelValue":u[0]||(u[0]=a=>o.value.name=a),label:"Vendor Name",placeholder:"Vendor Name",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(f,{modelValue:o.value.contact_no,"onUpdate:modelValue":u[1]||(u[1]=a=>o.value.contact_no=a),label:"Contact Number",placeholder:"Contact Number",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(y,null,{default:t(()=>[e(n,{cols:"6"},{default:t(()=>[e(f,{modelValue:o.value.village,"onUpdate:modelValue":u[2]||(u[2]=a=>o.value.village=a),label:"Village",placeholder:"Village",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"6"},{default:t(()=>[e(H,{modelValue:o.value.city,"onUpdate:modelValue":u[3]||(u[3]=a=>o.value.city=a),items:{},label:"City",placeholder:"City",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(f,{modelValue:o.value.email,"onUpdate:modelValue":u[4]||(u[4]=a=>o.value.email=a),label:"Email",placeholder:"Email",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(y,null,{default:t(()=>[e(n,{cols:"6"},{default:t(()=>[e(f,{modelValue:o.value.total_spend,"onUpdate:modelValue":u[5]||(u[5]=a=>o.value.total_spend=a),label:"Total Spend",placeholder:"Total Spend",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1}),e(n,{cols:"6"},{default:t(()=>[e(f,{modelValue:o.value.total_due,"onUpdate:modelValue":u[6]||(u[6]=a=>o.value.total_due=a),label:"Total Due",placeholder:"Total Due",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(n,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[e(T,{type:"submit",onClick:r},{default:t(()=>[x(" Submit ")]),_:1}),e(T,{type:"reset",color:"secondary",variant:"tonal"},{default:t(()=>[x(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},Q={__name:"VendorEdit",props:["vendor"],emits:["edit-modal-status"],setup(g,{emit:_}){const o=g,r=o.vendor,l=v(r),u=async()=>{try{const a=P.editVendor+"/"+o.vendor.vendor_id;(await N.put(a,l.value)).data.status&&_("edit-modal-status",!1)}catch(a){console.log(a)}};return(a,s)=>(V(),k(y,{justify:"center"},{default:t(()=>[e(n,{cols:"12",md:"10"},{default:t(()=>[e(h,{title:"Update Vendor"},{default:t(()=>[e($,null,{default:t(()=>[e(L,{onSubmit:s[7]||(s[7]=E(()=>{},["prevent"]))},{default:t(()=>[e(y,null,{default:t(()=>[e(n,{cols:"12",md:"3"},{default:t(()=>[e(R,{width:"100%",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4rg2uXCXcgz5EOZDYdyOiJl_BkMOjgqppYsJ5nPTp5Zwu_0sGhxLFf7F3Yh8wy3tT5dE&usqp=CAU"})]),_:1}),e(n,{cols:"12",md:"9"},{default:t(()=>[e(n,{cols:"12"},{default:t(()=>[e(f,{modelValue:l.value.name,"onUpdate:modelValue":s[0]||(s[0]=i=>l.value.name=i),label:"Vendor Name",placeholder:"Vendor Name",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(f,{modelValue:l.value.contact_no,"onUpdate:modelValue":s[1]||(s[1]=i=>l.value.contact_no=i),label:"Contact Number",placeholder:"Contact Number",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(y,null,{default:t(()=>[e(n,{cols:"6"},{default:t(()=>[e(f,{modelValue:l.value.village,"onUpdate:modelValue":s[2]||(s[2]=i=>l.value.village=i),label:"Village",placeholder:"Village",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"6"},{default:t(()=>[e(H,{modelValue:l.value.city,"onUpdate:modelValue":s[3]||(s[3]=i=>l.value.city=i),items:{},label:"City",placeholder:"City",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(f,{modelValue:l.value.email,"onUpdate:modelValue":s[4]||(s[4]=i=>l.value.email=i),label:"Email",placeholder:"Email",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(y,null,{default:t(()=>[e(n,{cols:"6"},{default:t(()=>[e(f,{modelValue:l.value.total_spend,"onUpdate:modelValue":s[5]||(s[5]=i=>l.value.total_spend=i),label:"Total Spend",placeholder:"Total Spend",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1}),e(n,{cols:"6"},{default:t(()=>[e(f,{modelValue:l.value.total_due,"onUpdate:modelValue":s[6]||(s[6]=i=>l.value.total_due=i),label:"Total Due",placeholder:"Total Due",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(n,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[e(T,{type:"submit",onClick:u},{default:t(()=>[x(" Submit ")]),_:1}),e(T,{type:"reset",color:"secondary",variant:"tonal"},{default:t(()=>[x(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},ee={__name:"VendorPayment",props:["vendor"],emits:["payment-modal-status"],setup(g,{emit:_}){const o=g;let r={amount:null,message:null};const l=v(structuredClone(r)),u=o.vendor,a=v(u),s=async()=>{try{const i=P.editVendor+"/"+o.vendor.vendor_id+"/payment";(await N.post(i,l.value)).data.status&&(l.value=v(u),_("payment-modal-status",!1))}catch(i){console.log(i)}};return(i,c)=>(V(),k(y,{justify:"center"},{default:t(()=>[e(n,{cols:"12",md:"10"},{default:t(()=>[e(h,null,{default:t(()=>[e(q,null,{default:t(()=>[x(p(a.value.name)+" Payment ",1)]),_:1}),e($,null,{default:t(()=>[e(L,{onSubmit:c[3]||(c[3]=E(()=>{},["prevent"]))},{default:t(()=>[e(y,null,{default:t(()=>[e(n,{cols:"12"},{default:t(()=>[e(f,{modelValue:l.value.amount,"onUpdate:modelValue":c[0]||(c[0]=b=>l.value.amount=b),label:"Amount",placeholder:"Amount",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(Z,{modelValue:l.value.message,"onUpdate:modelValue":c[1]||(c[1]=b=>l.value.message=b),label:"Message",placeholder:"Message",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[e(T,{type:"submit",onClick:s},{default:t(()=>[x(" Submit ")]),_:1}),e(T,{type:"reset",color:"secondary",variant:"tonal",onClick:c[2]||(c[2]=b=>_("payment-modal-status",!1))},{default:t(()=>[x(" Close ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},te=d("thead",null,[d("tr",null,[d("th",{class:"text-uppercase"}," Transaction ID "),d("th",{class:"text-uppercase"}," Name "),d("th",{class:"text-uppercase"}," Ref "),d("th",{class:"text-center text-uppercase"}," Time "),d("th",{class:"text-center text-uppercase"}," Pre Amount "),d("th",{class:"text-center text-uppercase"}," Amount "),d("th",{class:"text-center text-uppercase"}," Final ")])],-1),le={class:"text-center"},ae={class:"text-center"},oe={class:"text-center"},ue={key:0},ne={key:1},de={class:"text-center"},se={__name:"VendorPaymentHistory",props:["vendor"],setup(g){const o=g.vendor,r=v([]);return A(async()=>{let l=await N.get(P.getVendor+"/"+o.vendor_id+"/payment");r.value=l.data.data}),(l,u)=>(V(),k(y,{justify:"center"},{default:t(()=>[e(n,{cols:"12"},{default:t(()=>[e(h,null,{default:t(()=>[e(q,null,{default:t(()=>[x(p(S(o).name)+" ",1),d("span",null,p(r.value.current),1)]),_:1}),e(z,null,{default:t(()=>[te,d("tbody",null,[(V(!0),C(G,null,Y(r.value.transaction,a=>(V(),C("tr",{key:a.transaction_id},[d("td",null,p(a.transaction_id),1),d("td",null,p(a.vendor_name),1),d("td",null,p(a.ref),1),d("td",le,p(a.created_at),1),d("td",ae,p(a.pre_amount),1),d("td",oe,[a.type?(V(),C("span",ue," + ")):(V(),C("span",ne," - ")),x(" "+p(a.amount),1)]),d("td",de,p(a.post_amount),1)]))),128))])]),_:1})]),_:1})]),_:1})]),_:1}))}},re=d("thead",null,[d("tr",null,[d("th",{class:"text-uppercase"}," Name "),d("th",{class:"text-center text-uppercase"}," Village "),d("th",{class:"text-center text-uppercase"}," Contact No "),d("th",{class:"text-center text-uppercase"}," Total Due "),d("th",{class:"text-center text-uppercase"}," Action ")])],-1),ie={class:"text-center"},ce={class:"text-center"},me={class:"text-center"},pe={class:"text-center"},_e={__name:"VendorList",setup(g){const _=v([]),o=v("");let r=v(!1),l=v(!1),u=v(!1);function a(c){r.value=c}function s(c){l.value=c}function i(c){u.value=c}return A(async()=>{let c=await N.get(P.getVendor);_.value=c.data.data}),(c,b)=>(V(),k(y,{justify:"center"},{default:t(()=>[e(n,{cols:"12"},{default:t(()=>[e(h,{title:"Basic"},{default:t(()=>[e(z,null,{default:t(()=>[re,d("tbody",null,[(V(!0),C(G,null,Y(_.value,m=>(V(),C("tr",{key:m.vendor_id},[d("td",null,p(m.name)+" - "+p(m.village),1),d("td",ie,p(m.village),1),d("td",ce,p(m.contact_no),1),d("td",me,p(m.total_due),1),d("td",pe,[e(w,{size:"20",start:"",icon:"tabler:edit",onClick:B=>{o.value=m,U(r)?r.value=!0:r=!0}},null,8,["onClick"]),e(w,{size:"20",start:"",icon:"majesticons:money-line",onClick:B=>{o.value=m,U(l)?l.value=!0:l=!0}},null,8,["onClick"]),e(w,{size:"20",start:"",icon:"mdi-clipboard-text-history-outline",onClick:B=>{o.value=m,U(u)?u.value=!0:u=!0}},null,8,["onClick"])])]))),128))])]),_:1}),e(D,{modelValue:S(r),"onUpdate:modelValue":b[0]||(b[0]=m=>U(r)?r.value=m:r=m),width:"auto"},{default:t(()=>[e(Q,{vendor:o.value,onEditModalStatus:a},null,8,["vendor"])]),_:1},8,["modelValue"]),e(D,{modelValue:S(l),"onUpdate:modelValue":b[1]||(b[1]=m=>U(l)?l.value=m:l=m),width:"auto"},{default:t(()=>[e(ee,{vendor:o.value,onPaymentModalStatus:s},null,8,["vendor"])]),_:1},8,["modelValue"]),e(D,{modelValue:S(u),"onUpdate:modelValue":b[2]||(b[2]=m=>U(u)?u.value=m:u=m),width:"auto"},{default:t(()=>[e(se,{vendor:o.value,onPaymentHistoryModalStatus:i},null,8,["vendor"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}},fe=d("h1",null,"Hello",-1),ve={__name:"vendor",setup(g){const _=O(),o=J();A(async()=>{await _.updateProductList()});function r(){o.updateCategoryList(),o.updateProductTypeList(),o.updateUnitTypeList()}const l=v("list");return(u,a)=>(V(),C("div",null,[e(I,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=s=>l.value=s),"show-arrows":""},{default:t(()=>[e(j,{value:"list"},{default:t(()=>[e(w,{size:"20",start:"",icon:"mdi-account-outline"}),x(" List ")]),_:1}),e(j,{value:"create",onClick:r},{default:t(()=>[e(w,{size:"20",start:"",icon:"mdi-account-outline"}),x(" Create ")]),_:1})]),_:1},8,["modelValue"]),e(X),e(W,{modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=s=>l.value=s),class:"mt-5 disable-tab-transition",touch:!1},{default:t(()=>[e(M,{value:"create"},{default:t(()=>[e(K)]),_:1}),e(M,{value:"list"},{default:t(()=>[e(_e)]),_:1}),e(M,{value:"test","onGroup:selected":S(_).updateProductList},{default:t(()=>[fe]),_:1},8,["onGroup:selected"])]),_:1},8,["modelValue"])]))}};typeof F=="function"&&F(ve);export{ve as default};
