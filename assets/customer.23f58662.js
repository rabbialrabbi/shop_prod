import{G as f,H as v,J as T,K as l,B as e,L as u,M as w,N as L,U as M,R as _,a_ as R,S as c,F as C,T as V,a$ as S,b0 as N,bc as $,$ as b,aV as G,X as j,P as m,Y as D,Z as q,_ as z,E as U,bp as x,aW as E,aT as O,aU as h,Q as J}from"./index.0611f6a8.js";import{V as P}from"./VForm.d33fc99f.js";import{V as Y}from"./VAutocomplete.1def4f3e.js";import"./moment.9709ab41.js";import{V as X}from"./VTextarea.a2217c33.js";import{V as A}from"./VDialog.5bb5a238.js";import{b as B}from"./route-block.011d1056.js";import{V as F,a as Z,b as k,c as I}from"./VWindowItem.a9079ed8.js";import"./VSelect.4f74f9ee.js";import"./VCheckboxBtn.8551cdb2.js";const W={__name:"AddCustomer",setup(y){const p={name:null,contact_no:null,village:null,city:null,email:null,total_spend:null,total_due:null},a=f(structuredClone(p)),i=async()=>{try{const t=await S.post(N.createCustomer,a.value);console.log(t.data),t.data.status&&(a.value=f(structuredClone(p)))}catch(t){console.log(t)}};return(t,n)=>(v(),T(_,{justify:"center"},{default:l(()=>[e(u,{cols:"12",md:"10"},{default:l(()=>[e(w,{title:"Add Customer"},{default:l(()=>[e(L,null,{default:l(()=>[e(P,{onSubmit:n[7]||(n[7]=M(()=>{},["prevent"]))},{default:l(()=>[e(_,null,{default:l(()=>[e(u,{cols:"12",md:"3"},{default:l(()=>[e(R,{width:"100%",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4rg2uXCXcgz5EOZDYdyOiJl_BkMOjgqppYsJ5nPTp5Zwu_0sGhxLFf7F3Yh8wy3tT5dE&usqp=CAU"})]),_:1}),e(u,{cols:"12",md:"9"},{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[e(c,{modelValue:a.value.name,"onUpdate:modelValue":n[0]||(n[0]=s=>a.value.name=s),label:"Customer Name",placeholder:"Customer Name",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(c,{modelValue:a.value.contact_no,"onUpdate:modelValue":n[1]||(n[1]=s=>a.value.contact_no=s),label:"Contact Number",placeholder:"Contact Number",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(_,null,{default:l(()=>[e(u,{cols:"6"},{default:l(()=>[e(c,{modelValue:a.value.village,"onUpdate:modelValue":n[2]||(n[2]=s=>a.value.village=s),label:"Village",placeholder:"Village",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(u,{cols:"6"},{default:l(()=>[e(Y,{modelValue:a.value.city,"onUpdate:modelValue":n[3]||(n[3]=s=>a.value.city=s),items:{},label:"City",placeholder:"City",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(c,{modelValue:a.value.email,"onUpdate:modelValue":n[4]||(n[4]=s=>a.value.email=s),label:"Email",placeholder:"Email",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(_,null,{default:l(()=>[e(u,{cols:"6"},{default:l(()=>[e(c,{modelValue:a.value.total_spend,"onUpdate:modelValue":n[5]||(n[5]=s=>a.value.total_spend=s),label:"Total Spend",placeholder:"Total Spend",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1}),e(u,{cols:"6"},{default:l(()=>[e(c,{modelValue:a.value.total_due,"onUpdate:modelValue":n[6]||(n[6]=s=>a.value.total_due=s),label:"Total Due",placeholder:"Total Due",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(u,{cols:"12",class:"d-flex gap-4"},{default:l(()=>[e(C,{type:"submit",onClick:i},{default:l(()=>[V(" Submit ")]),_:1}),e(C,{type:"reset",color:"secondary",variant:"tonal"},{default:l(()=>[V(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},H={__name:"CustomerEdit",props:["customer"],emits:["edit-modal-status"],setup(y,{emit:p}){const a=y,i=a.customer,t=f(i),n=async()=>{try{const s=N.editCustomer+"/"+a.customer.customer_id;(await S.put(s,t.value)).data.status&&p("edit-modal-status",!1)}catch(s){console.log(s)}};return(s,o)=>(v(),T(_,{justify:"center"},{default:l(()=>[e(u,{cols:"12",md:"10"},{default:l(()=>[e(w,{title:"Add Customer"},{default:l(()=>[e(L,null,{default:l(()=>[e(P,{onSubmit:o[7]||(o[7]=M(()=>{},["prevent"]))},{default:l(()=>[e(_,null,{default:l(()=>[e(u,{cols:"12",md:"3"},{default:l(()=>[e(R,{width:"100%",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4rg2uXCXcgz5EOZDYdyOiJl_BkMOjgqppYsJ5nPTp5Zwu_0sGhxLFf7F3Yh8wy3tT5dE&usqp=CAU"})]),_:1}),e(u,{cols:"12",md:"9"},{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[e(c,{modelValue:t.value.name,"onUpdate:modelValue":o[0]||(o[0]=d=>t.value.name=d),label:"Customer Name",placeholder:"Customer Name",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(c,{modelValue:t.value.contact_no,"onUpdate:modelValue":o[1]||(o[1]=d=>t.value.contact_no=d),label:"Contact Number",placeholder:"Contact Number",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(_,null,{default:l(()=>[e(u,{cols:"6"},{default:l(()=>[e(c,{modelValue:t.value.village,"onUpdate:modelValue":o[2]||(o[2]=d=>t.value.village=d),label:"Village",placeholder:"Village",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(u,{cols:"6"},{default:l(()=>[e(Y,{modelValue:t.value.city,"onUpdate:modelValue":o[3]||(o[3]=d=>t.value.city=d),items:{},label:"City",placeholder:"City",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(c,{modelValue:t.value.email,"onUpdate:modelValue":o[4]||(o[4]=d=>t.value.email=d),label:"Email",placeholder:"Email",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(_,null,{default:l(()=>[e(u,{cols:"6"},{default:l(()=>[e(c,{modelValue:t.value.total_spend,"onUpdate:modelValue":o[5]||(o[5]=d=>t.value.total_spend=d),label:"Total Spend",placeholder:"Total Spend",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1}),e(u,{cols:"6"},{default:l(()=>[e(c,{modelValue:t.value.total_due,"onUpdate:modelValue":o[6]||(o[6]=d=>t.value.total_due=d),label:"Total Due",placeholder:"Total Due",variant:"underlined",type:"number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(u,{cols:"12",class:"d-flex gap-4"},{default:l(()=>[e(C,{type:"submit",onClick:n},{default:l(()=>[V(" Submit ")]),_:1}),e(C,{type:"reset",color:"secondary",variant:"tonal"},{default:l(()=>[V(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},K={__name:"CustomerPayment",props:["customer"],emits:["payment-modal-status"],setup(y,{emit:p}){const a=y;let i={amount:null,message:null};const t=f(structuredClone(i)),n=a.customer,s=f(n),o=async()=>{try{const d=N.editCustomer+"/"+a.customer.customer_id+"/payment";(await S.post(d,t.value)).data.status&&(t.value=f(n),p("payment-modal-status",!1))}catch(d){console.log(d)}};return(d,r)=>(v(),T(_,{justify:"center"},{default:l(()=>[e(u,{cols:"12",md:"10"},{default:l(()=>[e(w,null,{default:l(()=>[e($,null,{default:l(()=>[V(b(s.value.name)+" Payment ",1)]),_:1}),e(L,null,{default:l(()=>[e(P,{onSubmit:r[2]||(r[2]=M(()=>{},["prevent"]))},{default:l(()=>[e(_,null,{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[e(c,{modelValue:t.value.amount,"onUpdate:modelValue":r[0]||(r[0]=g=>t.value.amount=g),label:"Amount",placeholder:"Amount",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(X,{modelValue:t.value.message,"onUpdate:modelValue":r[1]||(r[1]=g=>t.value.message=g),label:"Message",placeholder:"Message",variant:"underlined"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",class:"d-flex gap-4"},{default:l(()=>[e(C,{type:"submit",onClick:o},{default:l(()=>[V(" Submit ")]),_:1}),e(C,{type:"reset",color:"secondary",variant:"tonal"},{default:l(()=>[V(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},Q=m("thead",null,[m("tr",null,[m("th",{class:"text-uppercase"}," Name "),m("th",{class:"text-center text-uppercase"}," Village "),m("th",{class:"text-center text-uppercase"}," Contact No "),m("th",{class:"text-center text-uppercase"}," Total Due "),m("th",{class:"text-center text-uppercase"}," Action ")])],-1),ee={class:"text-center"},le={class:"text-center"},te={class:"text-center"},ae={class:"text-center"},ue={__name:"CustomerList",setup(y){const p=f([]),a=f("");let i=f(!1),t=f(!1);function n(o){i.value=o}function s(o){t.value=o}return G(async()=>{let o=await S.get(N.getCustomer);p.value=o.data.data}),(o,d)=>(v(),T(_,{justify:"center"},{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[e(w,{title:"Basic"},{default:l(()=>[e(j,null,{default:l(()=>[Q,m("tbody",null,[(v(!0),D(q,null,z(p.value,r=>(v(),D("tr",{key:r.customer_id},[m("td",null,b(r.name)+" - "+b(r.village),1),m("td",ee,b(r.village),1),m("td",le,b(r.contact_no),1),m("td",te,b(r.total_due),1),m("td",ae,[e(U,{size:"20",start:"",icon:"mdi-account-outline",onClick:g=>{a.value=r,x(i)?i.value=!0:i=!0}},null,8,["onClick"]),e(U,{size:"20",start:"",icon:"mdi-account-outline",onClick:g=>{a.value=r,x(t)?t.value=!0:t=!0}},null,8,["onClick"])])]))),128))])]),_:1}),e(A,{modelValue:E(i),"onUpdate:modelValue":d[0]||(d[0]=r=>x(i)?i.value=r:i=r),width:"auto"},{default:l(()=>[e(H,{customer:a.value,onEditModalStatus:n},null,8,["customer"])]),_:1},8,["modelValue"]),e(A,{modelValue:E(t),"onUpdate:modelValue":d[1]||(d[1]=r=>x(t)?t.value=r:t=r),width:"auto"},{default:l(()=>[e(K,{customer:a.value,onPaymentModalStatus:s},null,8,["customer"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}},oe=m("h1",null,"Hello",-1),se={__name:"customer",setup(y){const p=O(),a=h();G(async()=>{await p.updateProductList()});function i(){a.updateCategoryList(),a.updateProductTypeList(),a.updateUnitTypeList()}const t=f();return(n,s)=>(v(),D("div",null,[e(Z,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=o=>t.value=o),"show-arrows":""},{default:l(()=>[e(F,{value:"list"},{default:l(()=>[e(U,{size:"20",start:"",icon:"mdi-account-outline"}),V(" List ")]),_:1}),e(F,{value:"create",onClick:i},{default:l(()=>[e(U,{size:"20",start:"",icon:"mdi-account-outline"}),V(" Create ")]),_:1})]),_:1},8,["modelValue"]),e(J),e(I,{modelValue:t.value,"onUpdate:modelValue":s[1]||(s[1]=o=>t.value=o),class:"mt-5 disable-tab-transition",touch:!1},{default:l(()=>[e(k,{value:"create"},{default:l(()=>[e(W)]),_:1}),e(k,{value:"list"},{default:l(()=>[e(ue)]),_:1}),e(k,{value:"test","onGroup:selected":E(p).updateProductList},{default:l(()=>[oe]),_:1},8,["onGroup:selected"])]),_:1},8,["modelValue"])]))}};typeof B=="function"&&B(se);export{se as default};
