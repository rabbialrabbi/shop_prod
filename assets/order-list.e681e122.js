import{u as D}from"./report.87d5a2b2.js";import{bc as Y,H as c,J as g,K as t,B as e,L as n,M as S,bh as h,T as x,X as B,P as r,Y as b,Z as O,_ as T,b6 as l,$ as i,E as v,R as p,S as y,bd as V,G as C,N,Q as I,F as k}from"./index.8ca49e5c.js";import{V as $}from"./VAutocomplete.a76158cc.js";import{h as M}from"./moment.9709ab41.js";import{S as w}from"./Subtotal.18793ab7.js";import{b as U}from"./route-block.011d1056.js";import{V as A,a as P,b as E,c as q}from"./VWindowItem.5f12d350.js";import"./VSelect.ed0b5ecb.js";import"./VCheckboxBtn.22bb90cc.js";const L=Y("tab",{state:()=>({tabs:[],selectedTab:""}),actions:{addTab(_){let s=_.id;this.tabs.find(o=>o.id==s)||null||this.tabs.push(_),this.selectedTab=_.id}}}),z={randomNumber:()=>Math.floor(Math.random()*1e3+1)},F=r("thead",null,[r("tr",null,[r("th",{class:"text-uppercase"}," Order ID "),r("th",{class:"text-center text-uppercase"}," Customer Name "),r("th",{class:"text-center text-uppercase"}," Total Item "),r("th",{class:"text-center text-uppercase"}," Order Amount "),r("th",{class:"text-center text-uppercase"}," Paid "),r("th",{class:"text-center text-uppercase"}," Balance "),r("th",{class:"text-center text-uppercase"}," Action ")])],-1),R={class:"text-center"},Q={class:"text-center"},W={class:"text-center"},j={class:"text-center"},G={class:"text-center"},H={class:"text-center"},J=r("td",{colspan:"2",class:"text-center"}," Total ",-1),K={class:"text-center"},X={class:"text-center"},Z={class:"text-center"},ee={class:"text-center"},te={__name:"SalesOrderList",setup(_){const s=D(),u=L();function o(d){u.addTab({id:d.order_code,name:d.customer_name})}return s.getOrderList(),(d,m)=>(c(),g(p,{justify:"center"},{default:t(()=>[e(n,{cols:"12"},{default:t(()=>[e(S,null,{default:t(()=>[e(h,null,{default:t(()=>[x(" Order list ")]),_:1}),e(B,null,{default:t(()=>[F,r("tbody",null,[(c(!0),b(O,null,T(l(s).salesOrderList.items,a=>(c(),b("tr",{key:a.order_code},[r("td",null,i(a.order_code),1),r("td",R,i(a.customer_name),1),r("td",Q,i(a.order_qty),1),r("td",W,i(a.order_payable_amount),1),r("td",j,i(a.paid),1),r("td",G,i(a.balance),1),r("td",H,[e(v,{size:"1.5rem",icon:"tabler:edit",onClick:f=>o(a)},null,8,["onClick"])])]))),128)),r("tr",null,[J,r("td",K,i(l(s).salesOrderList.totalOrderQty),1),r("td",X,i(l(s).salesOrderList.totalOrderAmount),1),r("td",Z,i(l(s).salesOrderList.totalPaid),1),r("td",ee,i(l(s).salesOrderList.totalBalance),1)])])]),_:1})]),_:1})]),_:1})]),_:1}))}},le={__name:"ItemInput",props:["itemid"],setup(_){const s=_;let o=D().salesOrderDetails.order_details.find(d=>d.sales_order_item_id==s.itemid);return(d,m)=>(c(),g(p,null,{default:t(()=>[e(n,{cols:"12",lg:"3"},{default:t(()=>[e($,{modelValue:l(o).product_name,"onUpdate:modelValue":m[0]||(m[0]=a=>l(o).product_name=a),label:"Product",variant:"underlined",readonly:""},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",lg:"3"},{default:t(()=>[e(y,{modelValue:l(o).qty,"onUpdate:modelValue":m[1]||(m[1]=a=>l(o).qty=a),label:"Unit Amount",placeholder:"Unit Amount",variant:"underlined",type:"number",readonly:""},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",lg:"3"},{default:t(()=>[e(y,{modelValue:l(o).selling_price,"onUpdate:modelValue":m[2]||(m[2]=a=>l(o).selling_price=a),label:"Price",variant:"underlined",type:"number",readonly:""},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",lg:"3"},{default:t(()=>[e(y,{modelValue:l(o).total_selling_price,"onUpdate:modelValue":m[3]||(m[3]=a=>l(o).total_selling_price=a),label:"Subtotal",variant:"underlined",type:"number",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}))}},ae={__name:"OrderItem",setup(_){const s=D();return(u,o)=>(c(),g(V,null,{default:t(()=>[(c(!0),b(O,null,T(l(s).salesOrderDetails.order_details,(d,m)=>(c(),g(le,{key:m,itemid:d.sales_order_item_id},null,8,["itemid"]))),128))]),_:1}))}},se={__name:"UpdateOrder",props:["ordercode"],setup(_){const s=_,u=D();u.getOrderDetails(s.ordercode);const o=u.salesOrderDetails;C(o.customer_name),C();let d=M(o.created_at,"YYYY-MM-DD").format("YYYY-MM-DD");return C(d),(m,a)=>(c(),g(p,null,{default:t(()=>[e(n,{md:"6",lg:"12",cols:"12"},{default:t(()=>[e(S,null,{default:t(()=>[e(p,{"no-gutters":""},{default:t(()=>[e(n,{cols:"12",sm:"8",md:"12",lg:"6",order:"2","order-lg":"1"},{default:t(()=>[e(V,null,{default:t(()=>[e(h,null,{default:t(()=>[x("Customer")]),_:1})]),_:1}),e(N,null,{default:t(()=>[e(p,null,{default:t(()=>[e(n,{cols:"12",md:"6"},{default:t(()=>[e(y,{modelValue:l(u).salesOrderDetails.customer_name,"onUpdate:modelValue":a[0]||(a[0]=f=>l(u).salesOrderDetails.customer_name=f),label:"Customer Name",placeholder:"Customer Name",readonly:""},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",md:"6"},{default:t(()=>[e(y,{modelValue:l(u).salesOrderDetails.customer_name,"onUpdate:modelValue":a[1]||(a[1]=f=>l(u).salesOrderDetails.customer_name=f),label:"Contact No",placeholder:"Contact No",readonly:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(n,{cols:"12",sm:"4",md:"12",lg:"6",order:"1","order-lg":"2"},{default:t(()=>[e(V,null,{default:t(()=>[e(h,null,{default:t(()=>[x("Order")]),_:1})]),_:1}),e(N,null,{default:t(()=>[e(p,null,{default:t(()=>[e(n,{cols:"12",md:"6"},{default:t(()=>[e(y,{modelValue:l(u).salesOrderDetails.customer_name,"onUpdate:modelValue":a[2]||(a[2]=f=>l(u).salesOrderDetails.customer_name=f),label:"Order No",placeholder:"Order No",readonly:""},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",md:"6"},{default:t(()=>[e(y,{modelValue:l(u).salesOrderDetails.customer_name,"onUpdate:modelValue":a[3]||(a[3]=f=>l(u).salesOrderDetails.customer_name=f),label:"Contact No",placeholder:"Contact No",readonly:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(V,null,{default:t(()=>[e(h,null,{default:t(()=>[x("Items")]),_:1})]),_:1}),e(N,null,{default:t(()=>[e(I)]),_:1}),e(ae,{items:l(u).salesOrderDetails.order_details},null,8,["items"]),e(V,null,{default:t(()=>[e(k,{block:""},{default:t(()=>[e(v,{size:"2rem",icon:"material-symbols:add-circle-outline-rounded"})]),_:1})]),_:1}),e(V,null,{default:t(()=>[e(p,{class:"pa-x ma-x"},{default:t(()=>[e(n,{md:"6",lg:"8",cols:"12",class:"pa-x ma-x"}),e(n,{md:"6",lg:"4",cols:"12"},{default:t(()=>[e(w)]),_:1})]),_:1})]),_:1}),e(V,null,{default:t(()=>[e(p,{class:"pa-x ma-x"},{default:t(()=>[e(n,{md:"6",lg:"8",cols:"12",class:"pa-x ma-x"}),e(n,{md:"6",lg:"4",cols:"12"},{default:t(()=>[e(p,null,{default:t(()=>[e(n,{md:"6",lg:"6",cols:"12",class:"text-center"},{default:t(()=>[e(k,null,{default:t(()=>[x(" Save ")]),_:1})]),_:1}),e(n,{md:"6",lg:"6",cols:"12",class:"text-center"},{default:t(()=>[e(k,{class:"bg-success"},{default:t(()=>[x(" Payment ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},de={key:0},re={key:1},oe={__name:"order-list",setup(_){const s=L();return s.tabs=[],s.addTab({id:z.randomNumber(),name:"Order List",componentType:"main"}),(u,o)=>(c(),b("div",null,[e(P,{modelValue:l(s).selectedTab,"onUpdate:modelValue":o[0]||(o[0]=d=>l(s).selectedTab=d),"show-arrows":""},{default:t(()=>[(c(!0),b(O,null,T(l(s).tabs,d=>(c(),g(A,{key:d.id,value:d.id},{default:t(()=>[e(v,{size:"20",start:"",icon:"mdi-bell-outline"}),x(" "+i(d.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),e(I),e(q,{modelValue:l(s).selectedTab,"onUpdate:modelValue":o[1]||(o[1]=d=>l(s).selectedTab=d),class:"mt-5 disable-tab-transition",touch:!1},{default:t(()=>[(c(!0),b(O,null,T(l(s).tabs,d=>(c(),g(E,{key:d.id,value:d.id},{default:t(()=>[d.componentType=="main"?(c(),b("div",de,[e(te)])):(c(),b("div",re,[e(se,{ordercode:d.id},null,8,["ordercode"])]))]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]))}};typeof U=="function"&&U(oe);export{oe as default};
